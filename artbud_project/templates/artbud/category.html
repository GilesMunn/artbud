{% extends 'artbud/base.html' %}
{% load staticfiles %}

{% block title_block %}
	Categories
{% endblock %}

<table style="width:20%">
		<tr>
			<th><img src="{% static "images/logo.jpg" %}" alt="Artbud Logo" style="width:180px;height:100px;">
			</th>
			<th>
				<ul>
					{% if user.is_authenticated %}

						<li style="float:right"><a class="nav-link" href="{% url 'auth_logout' %}?next=/artbud/">Sign Out</a></li>
						<li style="float:right"><a href="{% url 'profile' user.username %}">Profile</a></li>
						<li style="float:right"><a class="active" href="{% url 'category' %}">Categories</a></li>
						<li style="float:right"><a href="{% url 'index' %}">Home</a></li>

					{% else %}

						<li style="float:right"><a href="{% url 'auth_login' %}">Sign In</a></li>
						<li style="float:right"><a href="{% url 'registration_register' %}">Register</a></li>
						<li style="float:right"><a class="active" href="{% url 'category' %}">Categories</a></li>
						<li style="float:right"><a class="active" href="{% url 'index' %}">Home</a></li>

					{% endif %}

				</ul>
			</th>
		</tr>

	</table>
<hr/>

{% block body_block %}
	{% if category %}
		<h1>{{category.name}}</h1>
		
		<div>
	<strong id="like_count">{{ category.likes }}</strong> people like this category
	{% if user.is_authenticated %}
		<button id="likes" data-catid="{{category.id}}" class="btn btn-primary btn-sm" type="button">
			Like
		</button>
	{% endif %}
	</div>
		
		
		{% if pages %}
			<ul>
			{% for page in pages %}
		<li>
			<a href="{% url 'goto' %}?page_id={{page.id}}">{{ page.title }}</a>
			{% if page.views > 1 %}
				({{ page.views }} views)
			{% elif page.views == 1 %}
				({{ page.views }} view)
			{% endif %}
		</li>
		{% endfor %}
			</ul>
		{% else %}
			<div>
				No pages currently in category.
			</div>
		{% endif %}
		{% if user.is_authenticated %}
		<ul>
		<a href="{% url 'add_page' category.slug %}">Add a Page</a>
		</ul>
		{% endif %}
	{% else %}
		The specified category does not exist!
	{% endif %}
{% endblock %}
